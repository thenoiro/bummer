!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.porter=t():e.porter=t()}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:Function("return this")(),(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}({2:function(e,t,r){"use strict";r.r(t);var n=function(){function e(){this.errors=[],this.track=[],this.done=!1,this.val=this.val.bind(this)}return e.prototype.val=function(){return this.value},e}(),i=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],u=0,a=o.length;u<a;u++,i++)n[i]=o[u];return n},o=function(e){return(Array.isArray(e)?e:[e]).reduce((function(e,t){var r=function(e){return"string"==typeof e?function(e){for(var t=[],r=e,n=e.length;n>0;){var i=r.indexOf("."),o=r.indexOf("["),u=i>-1,a=o>-1;if(n-=1,!u&&!a){r.length>0&&t.push(r);break}var l=u&&(!a||i<o),s=!l;if(l)if(0===i)r=r.slice(1);else{var f=r.slice(0,i);r=r.slice(i+1),t.push(f)}if(s){var c=o>0,h=!c;if(c){f=r.slice(0,o);r=r.slice(o),t.push(f)}if(h){var v=r.indexOf("]",o+1);-1===v&&(v=r.length+1,r+="]");f=r.slice(o+1,v);r=r.slice(v+1),t.push(f)}}}return t}(e):[e]}(t);return i(e,r)}),[])},u=function(e){return e&&"object"==typeof e},a=function(e,t){return!!u(e)&&Object.prototype.hasOwnProperty.call(e,t)},l=function(e){return"string"==typeof e&&e.length>0||("symbol"==typeof e||("number"==typeof e||!!(Array.isArray(e)&&e.length>0)&&e.every(l)))},s=function(e){return u(e)},f=function(e){this.exist=!1,this.created=!1,this.available=!1,this.target=null,this.value=void 0,this.key=e.key,a(e,"exist")&&"boolean"==typeof e.exist&&(this.exist=e.exist),a(e,"created")&&"boolean"==typeof e.created&&(this.created=e.created),a(e,"available")&&"boolean"==typeof e.available&&(this.available=e.available),a(e,"target")&&s(e.target)&&(this.target=e.target),a(e,"value")&&(this.value=e.value)},c=function(e,t,r){void 0===r&&(r=!1);return t.reduce((function(t,n,i){var o=n,u=new f({key:o}),l=t[t.length-1],c=0===i?e:l.value,h=s(c);if(!h&&!l.exist&&r){var v=NaN;"symbol"!=typeof o&&(v=Number(o));var p=!Number.isNaN(v),d=Number.isInteger(v)||!Number.isFinite(v),y=p&&d?[]:{};s(l.target)&&(l.target[l.key]=y),c=y,l.value=y,h=!0}return h&&(u.target=c,a(c,o)?(u.exist=!0,u.value=c[o]):r&&(c[o]=void 0,u.created=!0)),u.available=u.exist||u.created,t.push(u),t}),[])},h="Wrong path.",v="Wrong subject.",p=function(){function e(e){this.result=new n,this.get=this.get.bind(this),this.set=this.set.bind(this),this.check=this.check.bind(this),this.remove=this.remove.bind(this),this.replace=this.replace.bind(this),this.subject=e,s(e)||(this.result.errors.push(v),this.subject={})}return e.prototype.get=function(e){if(this.validatePath(e)){var t=o(e),r=c(this.subject,t);this.result.track=r,this.result.done=r.every((function(e){return e.available})),this.result.done&&(this.result.value=r[r.length-1].value)}return this.result},e.prototype.set=function(e,t,r){if(void 0===r&&(r=!0),this.validatePath(e)){var n=o(e),i=c(this.subject,n,r);if(this.result.track=i,this.result.done=i.every((function(e){return e.available})),this.result.value=!1,this.result.done){var u=i[i.length-1],a=u.target,l=u.key;s(a)&&(a[l]=t,this.result.value=!0)}}return this.result},e.prototype.check=function(e){var t=this.get(e);return t.value=t.done,t},e.prototype.remove=function(e,t){void 0===t&&(t=!1);var r=this.get(e);if(t||(r.value=r.done),r.done){var n=r.track[r.track.length-1],i=n.target,o=n.key;s(i)&&delete i[o]}return r},e.prototype.replace=function(e,t,r){if(void 0===r&&(r=!0),this.validatePath(e)){var n=o(e),i=c(this.subject,n,r);if(this.result.track=i,this.result.done=i.every((function(e){return e.available})),this.result.done){var u=i[i.length-1],a=u.target,l=u.key;if(s(a)){var f=a[l];a[l]=t,this.result.value=f}}}return this.result},e.prototype.validatePath=function(e){var t=l(e);return t||this.result.errors.push(h),t},e}(),d=function(e){var t=function(){return new p(e)};return{get:function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=t()).get.apply(e,r)},set:function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=t()).set.apply(e,r)},check:function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=t()).check.apply(e,r)},remove:function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=t()).remove.apply(e,r)},replace:function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=t()).replace.apply(e,r)}}};d.get=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(t=d(e)).get.apply(t,r)},d.set=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(t=d(e)).set.apply(t,r)},d.check=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(t=d(e)).check.apply(t,r)},d.remove=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(t=d(e)).remove.apply(t,r)},d.replace=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(t=d(e)).replace.apply(t,r)};t.default=d}}).default}));
//# sourceMappingURL=porter.js.map